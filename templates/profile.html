<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Profile</title>
  </head>
  
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom shadow-sm">
        
        <div class="container-fluid">
          
          <a class="navbar-brand" href="{{url_for('home')}}">
            <img src="../static/images/logo.png" height="40px">

            <span class="mx-1 link-dark" >Profile</span>
          </a>
          
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle bg-transparent border-0 text-black" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="align-middle"><i><b>{{combo}}</b></i></span>
              <img src="../static/images/user.png" alt="" height="50px">
            </button>
            
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <li><a class="dropdown-item" href="{{url_for('sign_out')}}">Sign Out</a></li>
              <li><a class="dropdown-item" href="#" onclick="copyToClipboard('{{combo}}')">Copy username</a></li>
            </ul>       
          </div>
          
        </div>
    </nav>
      
    <div class="card border w-50 my-3 mt-lg-5 mb-lg-0 mx-auto px-4 py-3 bg-light shadow-lg"> <!--main-->
        
      <h3>Friends</h3>
      <span class="px-1" style="color: grey;">Add a friend:</span>
        
      <form method="post">
        <div class="input-group d-flex d-lg-none">
          <input class="col-12 form-control rounded-0 rounded-top" id="search" type="search" placeholder="Username#0000" aria-label="Search" name="friend">
          <button class="col-12 btn btn-dark rounded-0 rounded-bottom" type="submit">Add Friend</button>
        </div>
        
        <div class="input-group d-none d-lg-flex">
          <input class="d-none d-md-block col-10 form-control rounded-start" id="search" type="search" placeholder="Username#0000" aria-label="Search" name="friend">
          <button class="d-none d-md-block col-2 btn btn-dark rounded-end" type="submit">Add Friend</button>
        </div>
          
      </form>
          
      <span class="px-1 mt-3 mb-0" style="color: grey;">Your friends:</span>
      <div class="card mb-2">
        <div class="card-body d-flex flex-column overflow-auto">
          {% for i in friends %}
          
          <a href="#" class="text-decoration-none">
            <button class="btn rounded-0 border-top border-bottom d-flex align-items-center w-100 p-0">
              <img src="../static/images/pfp.png" width="50">
              {{i.combo2}}
              <br>
            </button>
          </a>
          {% endfor %}
        </div>
      </div>

      
    </div>


  

  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>


<script>
function copyToClipboard(text) {
  const el = document.createElement('textarea');
  el.value = text;
  document.body.appendChild(el);
  el.select();
  document.execCommand('copy');
  document.body.removeChild(el);
  alert('Username copied to clipboard!');
}
</script>
